<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{adminBase::layout(~{::section})}">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
	<section>
		<div class="page-wrapper">
			<!-- alert start-->
						<th:block th:if="${session.succMsg}">
						    <div class="alert alert-success alert-dismissible fade show py-2 alert-custom" role="alert">
						        <div class="d-flex align-items-center">
						            <div class="font-35 text-white"><i class='bx bxs-check-circle'></i></div>
						            <div class="ms-3">
						                <h6 class="mb-0 text-white" th:text="${session.succMsg}"></h6>
						            </div>
						        </div>
						        <button type="button" class="btn-close" aria-label="Close"></button>
						    </div>
						</th:block>
						<th:block th:if="${session.errorMsg}">
						    <div class="alert alert-danger alert-dismissible fade show py-2 alert-custom" role="alert">
						        <div class="d-flex align-items-center">
						            <div class="font-35 text-white"><i class='bx bxs-error-circle'></i></div>
						            <div class="ms-3">
						                <h6 class="mb-0 text-white" th:text="${session.errorMsg}"></h6>
						            </div>
						        </div>
						        <button type="button" class="btn-close" aria-label="Close"></button>
						    </div>
						</th:block>
						
						
						<!-- alert end-->
			<div class="page-content">
				<!--breadcrumb-->
				<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
					<div class="breadcrumb-title pe-3">ADMIN</div>
					<div class="ps-3">
						<nav aria-label="breadcrumb">
							<ol class="breadcrumb mb-0 p-0">
								<li class="breadcrumb-item"><a href="/admin/"><i class="bx bx-home-alt"></i></a>
								</li>
								<li class="breadcrumb-item active" aria-current="page">Coupon</li>
							</ol>
						</nav>
					</div>
					<div class="ms-auto">
						
					</div>
				</div>
				<!--end breadcrumb-->
			  
				<div class="card">
					<div class="card-body">
						<div class="d-lg-flex align-items-center mb-4 gap-3">
							
						  <div class="ms-auto"><a th:href="@{/admin/coupon/add}" class="btn btn-light radius-30 mt-2 mt-lg-0"><i class="bx bxs-plus-square"></i>Add New Coupon</a></div>
						</div>
						<div class="table-responsive">
							<table class="table mb-0">
								<thead class="table-light">
									<tr>
										<th>Id</th>
										<th>Code</th>
										<th>Discount Percentage</th>
										<th>Expires On</th>
										<th>One Time Use</th>
										<th>Used</th>
										<th>Actions</th>
									</tr>
								</thead>
								<tbody>
								       <!-- Loop through the coupons and display them -->
								       <tr th:each="coupon : ${coupons}">
								           <td th:text="${coupon.id}"></td>
								           <td th:text="${coupon.code}"></td>
								           <td th:text="${coupon.discountPercentage}"></td>
								           <td th:text="${#dates.format(coupon.expiresOn, 'yyyy-MM-dd HH:mm')}"></td>
								           <td th:text="${coupon.oneTimeUse ? 'Yes' : 'No'}"></td>
								           <td th:text="${coupon.used ? 'Yes' : 'No'}"></td>
										   <td>
   											<div class="d-flex order-actions">
   												
											<!--	<a th:href="@{/coupon/loadEditCoupon/{id}(id=${coupon.id})}"><i class='bx bxs-edit'></i></a>-->

												
												<a th:href="@{'/admin/deleteCoupon/'+${coupon.id}}" class="ms-3"><i class='bx bxs-trash'></i></a>
   											</div>
   										</td>
								       </tr>
								   </tbody>
							</table>
						</div>
					</div>
				</div>


			</div>
		</div>
	</section>
</body>
</html>