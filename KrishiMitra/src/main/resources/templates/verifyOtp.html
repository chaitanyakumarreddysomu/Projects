<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{base::layout(~{::section})}">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
	<section>
		<!--assistant button-->
				<button id="voice-button" class="text-white " style="position: fixed; z-index: 2147483647; right: 25px; bottom: 70px; 
				width: 50px; height: 50px; border: none; border-radius: 100%;
				 background:linear-gradient(-120deg,#4285f4,#34a853,#fbbc05,#ea4335) ;"><i class="fa fa-microphone"></i></button>
				 
				 <audio id="notification-sound" src="assets/sounds/notify.mp3" preload="auto"></audio>
				 <!--assistant button-->
				 <!--chat bot-->
				 	 
				 		<button id="chatbot-button" class="text-white " style="position: fixed; z-index: 2147483647; right: 25px; bottom: 125px; 
				 		 		width: 50px; height: 50px; border: none; border-radius: 100%;
				 		 		 background:linear-gradient(-120deg,rgb(120, 211, 170),rgb(41, 129, 89),#3bb77e) ;"><i class='fa-solid fa-robot' style='font-size:24px'></i></button>
				 		 
				 				 
				 				 
				 				 <div class="chat">
				 		 			<div class="chat-title">
				 		 			<h1 style="color:#fff">AgriMate</h1>
				 		 			<button class="close-btn"><i class="fa fa-times	"></i></button>
				 		 			</div>
				 		 			<div class="messages">
				 		 			<div class="messages-content"></div>
				 		 			</div>
				 		 			<div class="message-box">
				 		 			<input type="text" class="message-input" placeholder="Type message..."></input>
				 		 			<button type="submit" class="message-submit"><i class="fa-solid fa-paper-plane" style='font-size:24px'></i></button>
				 		 			</div>
				 		 		</div>
				 	 <!--chat bot-->
		<main class="main pages">
		     
		     <div class="page-content pt-150 pb-150">
		         <div class="container">
		             <div class="row">
		                 <div class="col-xl-4 col-lg-6 col-md-12 m-auto">
		                     <div class="login_wrap widget-taber-content background-white">
		                         <div class="padding_eight_all bg-white">
		                             <div class="heading_s1">
		                                 <img class="border-radius-15" src="assets/imgs/page/forgot_password.svg" alt="" />
		                                 <h2 class="mb-15 mt-15">OTP Verification</h2>
		                                
		                             </div>
									 

									 <div th:if="${msg}" class="alert alert-success text-center">
									 														<p class="text-success fw-bold text-center">[[${msg}]]</p>
									 														<th:block th:text="${@commnServiceImpl.removeSessionMessage()}"></th:block>
									 													</div>
									 						 							
									 													<div th:if="${errorMsg}" class="alert alert-danger text-center">
									 														<p class="text-danger fw-bold text-center">[[${errorMsg}]]</p>
									 														<th:block th:text="${@commnServiceImpl.removeSessionMessage()}"></th:block>
									 													</div>
																
																<form action="/verifyOtp" method="post" id="verifyOtpForm">
																    <div class="form-group">
																        <label for="otp">Enter OTP</label>
																        <input type="text" required="required" name="otp" id="otpInput" placeholder="Enter the OTP " />
																    </div>

																    <!-- Display OTP error message here -->
																    <div id="otpMessage" style="color: red; font-weight: bold; margin-bottom: 10px;">
																        <!-- Error message will be displayed here -->
																    </div>

																    <!-- Submit button to verify OTP -->
																    <div class="form-group">
																        <button type="submit" class="btn btn-fill-out btn-block hover-up font-weight-bold">Verify OTP</button>
																    </div>
																</form>

		                         </div>
		                     </div>
		                 </div>
		             </div>
		         </div>
		     </div>
			 <script>
			 			function handleOtpResponse(response) {
			 			    const otpMessageDiv = document.getElementById('otpMessage');
			 			    if (response.success) {
			 			        otpMessageDiv.textContent = 'OTP verified successfully. Redirecting to login page...';
			 			        otpMessageDiv.style.color = 'green';
			 			    } else {
			 			        otpMessageDiv.textContent = 'Invalid OTP. Please try again.';
			 			        otpMessageDiv.style.color = 'red';
			 			    }
			 			}
						
						
						
			 		 </script>

		 </main>
		 
	</section>
</body>
</html>